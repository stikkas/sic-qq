(function(b){b.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:true,overlayOpacity:0.01,overlayColor:"#FFF",draggable:true,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(f,a,e){b.alerts._show(f,null,a,null,"alert",function(c){if(e){e(c)}})},confirm:function(g,a,h,f){b.alerts._show(g,null,a,h,"confirm",function(c){if(f){f(c)}})},prompt:function(i,h,a,j,g){b.alerts._show(i,h,a,j,"prompt",function(c){if(g){g(c)}})},_show:function(k,l,a,m,n,i){b.alerts._hide();b.alerts._overlay("show");b("BODY").append('<div id="popup_container"><div id="popup_content"><div id="popup_message"></div></div></div>');if(b.alerts.dialogClass){b("#popup_container").addClass(b.alerts.dialogClass)}var j=(b.browser&&b.browser.msie&&parseInt(b.browser.version)<=6)?"absolute":"fixed";b("#popup_container").css({position:j,zIndex:99999,padding:0,margin:0});b("#popup_content").addClass(n);b("#popup_message").text(k);b("#popup_message").html(b("#popup_message").text().replace(/\n/g,"<br />"));b("#popup_container").css({minWidth:b("#popup_container").outerWidth(),maxWidth:b("#popup_container").outerWidth()});b.alerts._reposition();b.alerts._maintainPosition(true);switch(n){case"alert":b("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a+'" id="popup_ok" /></div>');b("#popup_ok").click(function(){b.alerts._hide();i(true)});b("#popup_ok").focus().keypress(function(c){if(c.keyCode==13||c.keyCode==27){b("#popup_ok").trigger("click")}});break;case"confirm":b("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a+'" id="popup_ok" /> <input type="button" value="'+m+'" id="popup_cancel" /></div>');b("#popup_ok").click(function(){b.alerts._hide();if(i){i(true)}});b("#popup_cancel").click(function(){b.alerts._hide();if(i){i(false)}});b("#popup_ok, #popup_cancel").keypress(function(c){if(c.keyCode==13){b("#popup_ok").trigger("click")}if(c.keyCode==27){b("#popup_cancel").trigger("click")}});break;case"prompt":b("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+a+'" id="popup_ok" /> <input type="button" value="'+m+'" id="popup_cancel" /></div>');b("#popup_prompt").width(b("#popup_message").width());b("#popup_ok").click(function(){var c=b("#popup_prompt").val();b.alerts._hide();if(i){i(c)}});b("#popup_cancel").click(function(){b.alerts._hide();if(i){i(null)}});b("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(c){if(c.keyCode==13){b("#popup_ok").trigger("click")}if(c.keyCode==27){b("#popup_cancel").trigger("click")}});if(l){b("#popup_prompt").val(l)}b("#popup_prompt").focus().select();break}},_hide:function(){b("#popup_container").remove();b.alerts._overlay("hide");b.alerts._maintainPosition(false)},_overlay:function(a){switch(a){case"show":b.alerts._overlay("hide");b("BODY").append('<div id="popup_overlay"></div>');b("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:b(document).height(),background:b.alerts.overlayColor,opacity:b.alerts.overlayOpacity});break;case"hide":b("#popup_overlay").remove();break}},_reposition:function(){var d=((b(window).height()/2)-(b("#popup_container").outerHeight()/2))+b.alerts.verticalOffset;var a=((b(window).width()/2)-(b("#popup_container").outerWidth()/2))+b.alerts.horizontalOffset;if(d<0){d=0}if(a<0){a=0}if(b.browser&&b.browser.msie&&parseInt(b.browser.version)<=6){d=d+b(window).scrollTop()}b("#popup_container").css({top:d+"px",left:a+"px"});b("#popup_overlay").height(b(document).height())},_maintainPosition:function(a){if(b.alerts.repositionOnResize){switch(a){case true:b(window).bind("resize",function(){b.alerts._reposition()});break;case false:b(window).unbind("resize");break}}}};jAlert=function(f,a,e){b.alerts.alert(f,a,e)};jConfirm=function(g,a,h,f){b.alerts.confirm(g,a,h,f)};jPrompt=function(i,h,a,j,g){b.alerts.prompt(i,h,a,j,g)}})(jQuery);